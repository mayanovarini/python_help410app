{% extends 'base.html' %}
{% load staticfiles %}

{% block page %}
  {% if error %}
    <div class="alert alert-warning arlert-dismissable" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
      </button>
      <strong>Warning!</strong> {{ error }}
    </div>
  {% endif %}
  <h1 style="margin: 60px 0 30px 0; text-align: center">Edit a Chore</h1>
  <div class="panel panel-default" style="margin-top: 3em">
    <div class="panel-body">
      <form class="form-horizontal" method="POST" encType="multipart/form-data">
        {% csrf_token %}

        <div class="form-group">
          <label class="col-sm-2 control-label">Chore Title</label>
          <div class="col-sm-10">
            <textarea rows="3" class="form-control" name="title">{{ gig.title }}</textarea>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2 control-label">Category</label>
          <div class="col-sm-10">
            <select name="category" class="form-control" value="{{ gig.category }}">
              <option {% if gig.category == "HC" %} selected {% endif %} value="HC">House Cleaning</option>
              <option {% if gig.category == "CW" %} selected {% endif %} value="CW">Car Wash</option>
              <option {% if gig.category == "LD" %} selected {% endif %} value="LD">Laundry</option>
              <option {% if gig.category == "PD" %} selected {% endif %} value="PD">Pick up & Delivery</option>
              <option {% if gig.category == "GC" %} selected {% endif %} value="GC">Grocery</option>
              <option {% if gig.category == "CK" %} selected {% endif %} value="CK">Cooking</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2 control-label">Description</label>
          <div class="col-sm-10">
            <textarea rows="5" class="form-control" name="description">{{ gig.description }}</textarea>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2 control-label">Price ($)</label>
          <div class="col-sm-10">
            <input type="number" lass="form-control" value="{{ gig.price }}" name="price"></textarea>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Photo</label>
          <div class="col-sm-10">
            <small>Currently: {{ gig.photo }}</small>
            <input type="file" class="form-control" name="photo">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Status</label>
          <div class="col-sm-10">
            <select name="status" class="form-control">
              <option value="1" {% if gig.status %} selected {% endif %} >Active</option>
              <option value="" {% if gig.status %} selected {% endif %} >Hidden</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-success">Update</button>
          </div>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
